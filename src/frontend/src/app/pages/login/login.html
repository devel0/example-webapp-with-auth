<div class="container">

    <mat-card>

        <mat-card-header class="header">
            <mat-card-title>
                {{appName}}
            </mat-card-title>
        </mat-card-header>

        <mat-card-content class="content">

            <mat-form-field>
                <mat-label>Username or email</mat-label>
                <input
                    matInput #username>
            </mat-form-field>

            <mat-form-field>
                <mat-label>{{this.token != null ? 'New Password' : 'Password'}}</mat-label>
                <input
                    matInput #password
                    (keydown.enter)="doLoginOrReset(username.value, password.value)"
                    type="password">
            </mat-form-field>

        </mat-card-content>

        <mat-card-actions class="actions">

            @if (this.token == null) {
            <button matButton (click)="doLostPassword(username.value)">
                Lost password?
            </button>
            }

            <button matButton (click)="doLoginOrReset(username.value, password.value)">
                {{this.token == null ? 'Login' :'Reset password'}}
            </button>

        </mat-card-actions>

    </mat-card>

</div>

<app-stacked-snackbar [snacks]="snackService.snacks" />